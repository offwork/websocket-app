<md-card>
    <md-card-header>
      <div md-card-avatar>
          <i *ngIf="stateTitle === 'CONNECTED'" class="material-icons avatar-font-size" style="color: green">wifi_tethering</i>
          <i *ngIf="stateTitle !== 'CONNECTED'" class="material-icons avatar-font-size">perm_scan_wifi</i>
      </div>
      <md-card-title>{{state | async}} [192.168.0.110]</md-card-title>
      <span class="example-spacer"></span>
      <button md-button color="primary" [disabled]="stateTitle !== 'CONNECTED'" (click)="onSendMessage()">Publish</button>
      <button md-button color="primary" (click)="onDisconnect()">{{this.stateTitle === 'CONNECTED' ? 'Disconnect' : 'Connect'}}</button>
    </md-card-header>
    <md-card-content>
      <div fxLayout="row" class="chart-content" *ngIf="subscribed">
        <ngx-charts-pie-chart
          [scheme]="colorScheme"
          [results]="single"
          [legend]="showLegend"
          [explodeSlices]="explodeSlices"
          [legendTitle]="receiverTitle"
          [labels]="showLabels"
          [doughnut]="doughnut"
          [gradient]="gradient"
          (select)="onSelect($event)">
        </ngx-charts-pie-chart>
      </div>
    </md-card-content>
</md-card>